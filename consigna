ENUNCIADO PROFESIONAL ‚Äî SISTEMA DE RESERVAS DE RECURSOS
Contexto

Una empresa que presta servicios por turnos necesita un sistema interno para administrar reservas de recursos. Los recursos pueden ser de distinta naturaleza (por ejemplo, espacios, equipamiento, veh√≠culos, turnos con personal, etc.), pero la empresa quiere un modelo com√∫n que permita operar sin depender de un tipo espec√≠fico.

El sistema ser√° utilizado por distintos sectores de la empresa (atenci√≥n al cliente, operaci√≥n, administraci√≥n), y tambi√©n debe contemplar acciones iniciadas por clientes. El objetivo es evitar conflictos de agenda, mantener trazabilidad, y aplicar pol√≠ticas comerciales que cambian con el tiempo.

Restricciones t√©cnicas del trabajo:

No hay interfaz gr√°fica.

No hay persistencia (no base de datos, no archivos).

Todo se mantiene en memoria.

No se modelan usuarios ni autenticaci√≥n.

No se modela integraci√≥n con calendario externo.

Objetivos del sistema

El sistema debe permitir:

Gestionar recursos que pueden reservarse en intervalos de tiempo.

Registrar reservas solicitadas y su evoluci√≥n.

Evitar solapamientos inv√°lidos y estados inconsistentes.

Permitir consultas operativas (disponibilidad, agenda, historial).

Soportar reglas de negocio configurables por pol√≠ticas internas (sin romper reservas ya registradas).

Alcance funcional
A) Gesti√≥n de clientes

Registrar clientes con datos m√≠nimos de identificaci√≥n.

Consultar reservas actuales e hist√≥ricas de un cliente.

Aplicar restricciones sobre el comportamiento de un cliente seg√∫n su historial (por ejemplo, acumulaci√≥n de cancelaciones o incumplimientos), sin especificar umbrales exactos.

B) Gesti√≥n de recursos

Cada recurso:

Puede tener horarios habilitados y horarios bloqueados (por mantenimiento, feriados, indisponibilidad operativa, etc.).

Puede requerir condiciones previas para reservarse (por ejemplo, ‚Äúsolo con aprobaci√≥n previa‚Äù, ‚Äúsolo clientes frecuentes‚Äù, etc.).

Puede tener reglas particulares de duraci√≥n m√≠nima/m√°xima o tama√±o de bloque (ej.: m√∫ltiplos de 30 minutos), seg√∫n la categor√≠a del recurso.

El sistema debe permitir:

Registrar recursos y sus restricciones operativas.

Consultar agenda de un recurso en un per√≠odo.

Obtener ‚Äúventanas disponibles‚Äù dadas restricciones (sin exigir un algoritmo √≥ptimo, pero s√≠ resultados coherentes).

C) Solicitud de reserva

El sistema debe permitir que un cliente solicite una reserva indicando:

Recurso deseado

Intervalo de tiempo (inicio/fin)

Informaci√≥n adicional opcional (comentarios, cantidad de personas, requerimientos especiales)

Reglas generales (m√≠nimas):

Un intervalo debe ser v√°lido.

No deben generarse conflictos de agenda con indisponibilidades del recurso.

Deben considerarse reglas del recurso y del cliente.

Deben contemplarse reservas ‚Äúen proceso‚Äù que todav√≠a no est√°n cerradas, y c√≥mo afectan la disponibilidad.

D) Evoluci√≥n de una reserva

Una reserva puede atravesar m√∫ltiples situaciones a lo largo del tiempo. El sistema debe contemplar como m√≠nimo:

Situaciones previas a la concreci√≥n final (por ejemplo ‚Äúpendiente‚Äù, ‚Äúen verificaci√≥n‚Äù, ‚Äúpre-reservada‚Äù, o equivalentes).

Situaciones finales exitosas (reserva concretada).

Situaciones finales no exitosas (cancelaci√≥n, expiraci√≥n, rechazo, etc.).

No todas las transiciones son posibles en cualquier momento. Algunas decisiones deben ser irreversibles.

El sistema debe permitir:

Confirmar una reserva bajo condiciones y plazos definidos por pol√≠ticas del negocio.

Cancelar una reserva con distintas consecuencias seg√∫n el momento y el estado (por ejemplo, penalizaciones o bloqueo temporal del cliente; no se implementan pagos, pero s√≠ el concepto de ‚Äúconsecuencia‚Äù).

Marcar reservas como no v√°lidas por eventos externos (por ejemplo, recurso fuera de servicio inesperadamente).

Resolver conflictos donde una acci√≥n ocurre ‚Äúcasi al mismo tiempo‚Äù que otra (por ejemplo, cancelar mientras se confirma).

E) Consultas operativas

El sistema debe permitir consultar:

Disponibilidad de un recurso en un intervalo.

Reservas existentes por recurso y por cliente.

Historial completo de una reserva (incluyendo cambios relevantes).

Agenda diaria/semanal para operaci√≥n.

Reservas que requieren atenci√≥n (por ejemplo, pendientes pr√≥ximas a vencer).

Reglas de negocio y pol√≠ticas (con zonas grises intencionales)
1) Solapamiento y conflictos

No puede existir m√°s de una reserva v√°lida para el mismo recurso que se superponga en el tiempo, pero el concepto de ‚Äúv√°lida‚Äù depende de la situaci√≥n de la reserva.

Debe definirse qu√© sucede con reservas en estados intermedios respecto a la disponibilidad.

Debe definirse qu√© ocurre cuando un recurso cambia su disponibilidad (se bloquea un horario) y ya existen reservas en ese per√≠odo.

2) L√≠mites por cliente

La empresa puede limitar la cantidad de reservas activas por cliente, por d√≠a o por tipo de recurso (los criterios exactos se consideran pol√≠tica).

Puede existir un criterio de ‚Äúincompatibilidad‚Äù entre reservas del mismo cliente (por ejemplo, reservas simult√°neas, o reservas demasiado cercanas), pero no se especifica la regla exacta.

3) Plazos y vencimientos

Algunas reservas pierden vigencia si no son confirmadas antes de un cierto plazo relativo a su creaci√≥n o al inicio del intervalo.

Debe contemplarse el paso del tiempo de forma abstracta (sin fechas reales ni relojes del sistema), pero con comportamiento determinista para pruebas.

4) Cambios y modificaciones

Debe definirse bajo qu√© condiciones una reserva puede modificarse (cambiar horario o recurso) y si eso se considera ‚Äúmisma reserva‚Äù o una nueva.

Debe evitarse que una modificaci√≥n genere inconsistencias con historial o con reglas de conflicto.

5) Excepciones y validaciones

El sistema debe manejar de forma controlada intentos como:

Intervalos inv√°lidos.

Reservar un recurso inexistente o inhabilitado.

Reservas que violan restricciones del recurso.

Acciones incompatibles con la situaci√≥n actual.

Operaciones sobre reservas expiradas o cerradas.

Doble acci√≥n sobre la misma reserva (confirmar dos veces, cancelar dos veces, etc.).

Escenarios l√≠mite y situaciones reales (obligatorio contemplarlos)

√öltimo cupo temporal: dos solicitudes distintas intentan ocupar el mismo intervalo para el mismo recurso en secuencia muy cercana.

Recurso fuera de servicio: el recurso se marca como no disponible cuando ya hay reservas pr√≥ximas.

Pendiente cerca del inicio: una reserva no confirmada se acerca al inicio del turno.

Cancelaci√≥n tard√≠a: un cliente cancela demasiado cerca del horario reservado.

Reserva ‚Äúintermedia‚Äù: queda en una situaci√≥n incompleta (por ejemplo, falta verificaci√≥n de datos) y hay que decidir c√≥mo impacta en la disponibilidad.

Cambio de reglas: una pol√≠tica cambia y afecta nuevas reservas, pero no debe corromper decisiones anteriores.

Reserva superpuesta del mismo cliente: el cliente intenta reservar dos recursos en el mismo horario (la empresa puede permitirlo o no seg√∫n pol√≠tica).

Modificaci√≥n vs historial: se modifica el horario de una reserva, luego hay un reclamo y se exige reconstruir qu√© pas√≥.

Requisitos no funcionales

Consistencia: el sistema no debe permitir estados imposibles ni solapamientos inv√°lidos seg√∫n las pol√≠ticas vigentes.

Trazabilidad: debe poder reconstruirse el ciclo de vida de una reserva y las decisiones relevantes.

Extensibilidad: debe poder agregarse en el futuro: pagos, penalizaciones monetarias, lista de espera, prioridad, usuarios administrativos, sin reescribir el modelo desde cero.

Determinismo: dado el mismo conjunto de entradas y el mismo ‚Äúestado temporal abstracto‚Äù, el resultado debe ser el mismo.

Claridad ante errores: los fallos deben ser distinguibles (no se acepta ‚Äúfall√≥‚Äù gen√©rico).

Entregables esperados

Modelo del dominio y reglas necesarias para soportar los casos planteados.

Definici√≥n de comportamientos esperados ante escenarios l√≠mite.

Mecanismos para evitar operaciones inv√°lidas y mantener coherencia.














CONSIGNA 2
1Ô∏è‚É£ Dominio general

La empresa ofrece recursos reservables, por ejemplo:

canchas

salas

turnos

veh√≠culos

equipos

üëâ El sistema no depende del tipo de recurso.

2Ô∏è‚É£ Conceptos obligatorios (no negociables)
üìå Cliente

puede hacer reservas

puede tener varias reservas activas

puede cancelar reservas

üìå Recurso

es reservable

tiene disponibilidad

no conoce a los clientes

no decide reglas de negocio

üìå Reserva (concepto clave)

Una reserva:

vincula cliente ‚Üî recurso

tiene un estado

tiene un intervalo de tiempo

puede cambiar de estado

üëâ La reserva es una relaci√≥n, no un dato suelto.

3Ô∏è‚É£ Estados de una reserva (obligatorios)

Una reserva puede estar en uno y solo uno de estos estados:

ACTIVA

CANCELADA

CONFIRMADA

EXPIRADA

üìå Reglas:

no todos los estados permiten transici√≥n libre

una reserva no se borra

el estado define el comportamiento

4Ô∏è‚É£ Reglas de negocio (importantes)
üìå Crear reserva

Una reserva puede crearse solo si:

el recurso est√° disponible en ese intervalo

el cliente no tiene otra reserva solapada del mismo tipo

el intervalo es v√°lido (inicio < fin)

El estado inicial es ACTIVA.

üìå Confirmar reserva

Una reserva activa:

puede confirmarse

bloquea definitivamente el recurso

ya no puede ser modificada

üìå Cancelar reserva

Una reserva:

puede cancelarse si est√° ACTIVA

no puede cancelarse si est√° CONFIRMADA

no libera historial

üìå Expirar reserva

Una reserva:

expira autom√°ticamente si no se confirma antes de cierto tiempo

una reserva expirada no se reactiva

5Ô∏è‚É£ Reglas CLAVE (las que quiero ver bien dise√±adas)

‚ùó No se pregunta ‚Äúsi est√° reservada‚Äù

‚ùó Se pregunta al estado

‚ùó El recurso no guarda reservas activas

‚ùó La l√≥gica vive en la reserva

‚ùó Los estados NO son booleans ni strings

6Ô∏è‚É£ Lo que NO est√° definido a prop√≥sito

(no lo resuelvas ahora)

pagos

penalizaciones

prioridades

listas de espera

usuarios admin